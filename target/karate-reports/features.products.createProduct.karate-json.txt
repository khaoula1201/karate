{"failedCount":0,"prefixedPath":"classpath:features\/products\/createProduct.feature","packageQualifiedName":"features.products.createProduct","loopIndex":-1,"relativePath":"features\/products\/createProduct.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":1924304,"startTime":1752185107229,"endTime":1752185107231,"millis":1.924304,"status":"passed"},"step":{"background":true,"line":3,"prefix":"*","index":0,"text":"url 'http:\/\/localhost:8080'"}},{"result":{"nanos":1676477,"startTime":1752185107234,"endTime":1752185107236,"millis":1.676477,"status":"passed"},"step":{"background":true,"line":4,"prefix":"*","index":1,"text":"def adminToken = 'Bearer admin-token'"}},{"result":{"nanos":690336,"startTime":1752185107236,"endTime":1752185107237,"millis":0.690336,"status":"passed"},"step":{"line":8,"prefix":"Given","index":0,"text":"path '\/products'"}},{"result":{"nanos":33574378,"startTime":1752185107237,"endTime":1752185107271,"millis":33.574378,"status":"passed"},"step":{"line":9,"prefix":"And","index":1,"text":"request read('classpath:__files\/products\/requests\/post_product_base.json')"}},{"result":{"nanos":3099892,"startTime":1752185107270,"endTime":1752185107273,"millis":3.099892,"status":"passed"},"step":{"line":10,"prefix":"And","index":2,"text":"headers { 'Content-Type': 'application\/json', 'Authorization': '#(adminToken)' }"}},{"result":{"nanos":637180086,"startTime":1752185107274,"endTime":1752185107911,"millis":637.180086,"status":"passed"},"step":{"line":11,"prefix":"When","index":3,"text":"method POST"},"stepLog":"23:05:07.410 request:\n1 > POST http:\/\/localhost:8080\/products\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Authorization: Bearer admin-token\n1 > Content-Length: 404\n1 > Host: localhost:8080\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/17.0.15)\n1 > Accept-Encoding: gzip,deflate\n{\"name\":\"Smartphone Premium X9\",\"description\":\"Dernier modèle avec écran 6.7\\\" et triple caméra\",\"marque\":{\"id\":\"marque_123\"},\"categorie\":{\"id\":\"cat_456\"},\"prixProduit\":{\"prixDeBase\":899.99,\"estActuel\":true},\"stock\":{\"stock_reel\":100,\"stock_fictif\":100,\"seuil_rupture\":10,\"seuil_surstock\":200},\"emballage\":{\"type\":\"CARTON\",\"largeur\":15,\"hauteur\":8,\"longeur\":5,\"poids\":0.5,\"material\":\"CARTON_RECYCLE\"}}\n\n23:05:07.905 response time in milliseconds: 491\n1 < 201\n1 < Content-Type: application\/json\n1 < Matched-Stub-Id: 976f6ee8-a0ad-43cd-b0c5-7a6671eb5d7f\n1 < Transfer-Encoding: chunked\n{\n  \"id\": \"prod_789012345\",\n  \"nom\": \"Smartphone Premium X9\",\n  \"description\": \"Dernier modèle avec écran 6.7\\\" et triple caméra\",\n  \"datecreationProduit\": \"#ignore\",\n  \"datemodificationProduit\": \"#ignore\",\n  \"marque\": {\n    \"id\": \"marque_123\",\n    \"nom\": \"TechBrand\"\n  },\n  \"categorie\": {\n    \"id\": \"cat_456\",\n    \"nom\": \"Électronique\"\n  },\n  \"prixProduit\": {\n    \"id\": \"prix_789\",\n    \"prixDeBase\": 899.99,\n    \"estActuel\": true,\n    \"dateCreationPrix\": \"#ignore\"\n  },\n  \"stock\": {\n    \"id\": \"stock_123\",\n    \"stock_reel\": 100,\n    \"stock_fictif\": 100,\n    \"seuil_rupture\": 10,\n    \"seuil_surstock\": 200\n  },\n  \"emballage\": {\n    \"id\": \"emb_456\",\n    \"type\": \"CARTON\",\n    \"largeur\": 15,\n    \"hauteur\": 8,\n    \"longeur\": 5,\n    \"poids\": 0.5,\n    \"material\": \"CARTON_RECYCLE\"\n  },\n  \"_links\": {\n    \"self\": {\n      \"href\": \"\/api\/products\/prod_789012345\"\n    },\n    \"variantes\": {\n      \"href\": \"\/api\/products\/prod_789012345\/variantes\"\n    }\n  }\n}\n\n"},{"result":{"nanos":44191,"startTime":1752185107912,"endTime":1752185107912,"millis":0.044191,"status":"passed"},"step":{"line":12,"prefix":"Then","index":4,"text":"status 201"}},{"result":{"nanos":14857093,"startTime":1752185107912,"endTime":1752185107927,"millis":14.857093,"status":"passed"},"step":{"line":13,"prefix":"And","index":5,"text":"match response == read('classpath:__files\/products\/responses\/post_product_response_success.json')"}}],"executorName":"main","line":7,"name":"Créer un produit de base valide (Admin Siege)","description":"","durationMillis":693.046757,"startTime":1752185107063,"failed":false,"refId":"[1:7]","endTime":1752185107927,"exampleIndex":-1},{"sectionIndex":1,"stepResults":[{"result":{"nanos":1200073,"startTime":1752185107954,"endTime":1752185107955,"millis":1.200073,"status":"passed"},"step":{"background":true,"line":3,"prefix":"*","index":0,"text":"url 'http:\/\/localhost:8080'"}},{"result":{"nanos":1526712,"startTime":1752185107956,"endTime":1752185107958,"millis":1.526712,"status":"passed"},"step":{"background":true,"line":4,"prefix":"*","index":1,"text":"def adminToken = 'Bearer admin-token'"}},{"result":{"nanos":793843,"startTime":1752185107957,"endTime":1752185107958,"millis":0.793843,"status":"passed"},"step":{"line":16,"prefix":"Given","index":0,"text":"path '\/products'"}},{"result":{"nanos":510918,"startTime":1752185107958,"endTime":1752185107959,"millis":0.510918,"status":"passed"},"step":{"line":17,"prefix":"And","index":1,"text":"headers { 'Content-Type': 'application\/json' }"}},{"result":{"nanos":303599,"startTime":1752185107959,"endTime":1752185107959,"millis":0.303599,"status":"passed"},"step":{"line":18,"prefix":"And","index":2,"text":"request { \"name\": \"Unauthorized Product\", \"price\": 100, \"category_id\": \"cat_test\", \"brand_id\": \"brand_test\" }"}},{"result":{"nanos":53263972,"startTime":1752185107959,"endTime":1752185108012,"millis":53.263972,"status":"passed"},"step":{"line":19,"prefix":"When","index":3,"text":"method POST"},"stepLog":"23:05:07.961 request:\n1 > POST http:\/\/localhost:8080\/products\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 92\n1 > Host: localhost:8080\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/17.0.15)\n1 > Accept-Encoding: gzip,deflate\n{\"name\":\"Unauthorized Product\",\"price\":100,\"category_id\":\"cat_test\",\"brand_id\":\"brand_test\"}\n\n23:05:08.009 response time in milliseconds: 46\n1 < 401\n1 < Matched-Stub-Id: effca76d-11c9-4ed4-9788-ef11d3c652f3\n1 < Transfer-Encoding: chunked\n\n\n"},{"result":{"nanos":19649,"startTime":1752185108013,"endTime":1752185108013,"millis":0.019649,"status":"passed"},"step":{"line":20,"prefix":"Then","index":4,"text":"status 401"}},{"result":{"nanos":3681357,"startTime":1752185108013,"endTime":1752185108017,"millis":3.681357,"status":"passed"},"step":{"line":21,"prefix":"And","index":5,"text":"def expectedErrorResponse = read('classpath:__files\/common\/error_unauthorized.json')"}},{"result":{"nanos":2459178,"startTime":1752185108017,"endTime":1752185108019,"millis":2.459178,"status":"passed"},"step":{"line":22,"prefix":"And","index":6,"text":"match response == expectedErrorResponse"}}],"executorName":"main","line":15,"name":"Tenter de créer un produit sans les autorisations nécessaires","description":"","durationMillis":63.759301,"startTime":1752185107947,"failed":false,"refId":"[2:15]","endTime":1752185108020,"exampleIndex":-1},{"sectionIndex":2,"stepResults":[{"result":{"nanos":502846,"startTime":1752185108038,"endTime":1752185108039,"millis":0.502846,"status":"passed"},"step":{"background":true,"line":3,"prefix":"*","index":0,"text":"url 'http:\/\/localhost:8080'"}},{"result":{"nanos":1057182,"startTime":1752185108039,"endTime":1752185108040,"millis":1.057182,"status":"passed"},"step":{"background":true,"line":4,"prefix":"*","index":1,"text":"def adminToken = 'Bearer admin-token'"}},{"result":{"nanos":313893,"startTime":1752185108040,"endTime":1752185108040,"millis":0.313893,"status":"passed"},"step":{"line":25,"prefix":"Given","index":0,"text":"path '\/products'"}},{"result":{"nanos":2029383,"startTime":1752185108040,"endTime":1752185108042,"millis":2.029383,"status":"passed"},"step":{"line":26,"prefix":"And","index":1,"text":"headers { 'Content-Type': 'application\/json', 'Authorization': '#(adminToken)' }"}},{"result":{"nanos":606295,"startTime":1752185108042,"endTime":1752185108043,"millis":0.606295,"status":"passed"},"step":{"line":27,"prefix":"And","index":2,"text":"request { \"name\": \"Product with Invalid Category\", \"price\": 200, \"category_id\": \"INVALID_CAT_ID\", \"brand_id\": \"BRAND001\" }"}},{"result":{"nanos":41609045,"startTime":1752185108043,"endTime":1752185108085,"millis":41.609045,"status":"passed"},"step":{"line":28,"prefix":"When","index":3,"text":"method POST"},"stepLog":"23:05:08.045 request:\n1 > POST http:\/\/localhost:8080\/products\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Authorization: Bearer admin-token\n1 > Content-Length: 105\n1 > Host: localhost:8080\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/17.0.15)\n1 > Accept-Encoding: gzip,deflate\n{\"name\":\"Product with Invalid Category\",\"price\":200,\"category_id\":\"INVALID_CAT_ID\",\"brand_id\":\"BRAND001\"}\n\n23:05:08.082 response time in milliseconds: 36\n1 < 400\n1 < Content-Type: application\/json\n1 < Matched-Stub-Id: 66ff4b5b-32bd-4734-9308-e8e3fd19f3a3\n1 < Transfer-Encoding: chunked\n{\n  \"code\": \"PROD_ERR_001\",\n  \"message\": \"Validation Error: Category or Brand ID does not exist.\"\n}\n\n"},{"result":{"nanos":18994,"startTime":1752185108085,"endTime":1752185108085,"millis":0.018994,"status":"passed"},"step":{"line":29,"prefix":"Then","index":4,"text":"status 400"}},{"result":{"nanos":3828706,"startTime":1752185108085,"endTime":1752185108089,"millis":3.828706,"status":"passed"},"step":{"line":30,"prefix":"And","index":5,"text":"def expectedInvalidIdError = read('classpath:__files\/products\/responses\/error_invalid_category_brand.json')"}},{"result":{"nanos":5046923,"startTime":1752185108089,"endTime":1752185108094,"millis":5.046923,"status":"passed"},"step":{"line":31,"prefix":"And","index":6,"text":"match response == expectedInvalidIdError"}}],"executorName":"main","line":24,"name":"Tenter de créer un produit avec une catégorie ou marque inexistante","description":"","durationMillis":55.013267,"startTime":1752185108035,"failed":false,"refId":"[3:24]","endTime":1752185108094,"exampleIndex":-1},{"sectionIndex":3,"stepResults":[{"result":{"nanos":452991,"startTime":1752185108114,"endTime":1752185108114,"millis":0.452991,"status":"passed"},"step":{"background":true,"line":3,"prefix":"*","index":0,"text":"url 'http:\/\/localhost:8080'"}},{"result":{"nanos":782658,"startTime":1752185108115,"endTime":1752185108116,"millis":0.782658,"status":"passed"},"step":{"background":true,"line":4,"prefix":"*","index":1,"text":"def adminToken = 'Bearer admin-token'"}},{"result":{"nanos":918775,"startTime":1752185108116,"endTime":1752185108117,"millis":0.918775,"status":"passed"},"step":{"line":34,"prefix":"Given","index":0,"text":"path 'products'"}},{"result":{"nanos":2636794,"startTime":1752185108117,"endTime":1752185108120,"millis":2.636794,"status":"passed"},"step":{"line":35,"prefix":"And","index":1,"text":"request read('classpath:__files\/products\/requests\/post_product_missing_name.json')"}},{"result":{"nanos":54911813,"startTime":1752185108119,"endTime":1752185108174,"millis":54.911813,"status":"passed"},"step":{"line":36,"prefix":"When","index":2,"text":"method post"},"stepLog":"23:05:08.121 request:\n1 > POST http:\/\/localhost:8080\/products\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 87\n1 > Host: localhost:8080\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/17.0.15)\n1 > Accept-Encoding: gzip,deflate\n{\"price\":599.99,\"stock\":100,\"description\":\"Un smartphone haut de gamme\",\"categoryId\":1}\n\n23:05:08.171 response time in milliseconds: 49\n1 < 400\n1 < Matched-Stub-Id: a0087119-69bf-46ce-aa01-be90c8ed54f4\n1 < Transfer-Encoding: chunked\n\n\n"},{"result":{"nanos":21475,"startTime":1752185108175,"endTime":1752185108175,"millis":0.021475,"status":"passed"},"step":{"line":37,"prefix":"Then","index":3,"text":"status 400"}},{"result":{"nanos":4448045,"startTime":1752185108175,"endTime":1752185108179,"millis":4.448045,"status":"passed"},"step":{"line":38,"prefix":"And","index":4,"text":"match response == read('classpath:__files\/products\/responses\/post_product_missing_name_response.json')"}}],"line":42,"description":"","durationMillis":64.172551,"failed":false,"executorName":"main","name":"Erreurs lors de la création d'un produit","startTime":1752185108111,"refId":"[4.1:42]","endTime":1752185108179,"exampleData":{"endpoint":"'products'","requestFile":"'classpath:__files\/products\/requests\/post_product_missing_name.json'","responseFile":"'classpath:__files\/products\/responses\/post_product_missing_name_response.json'","statusCode":"400"},"exampleIndex":0},{"sectionIndex":3,"stepResults":[{"result":{"nanos":716914,"startTime":1752185108199,"endTime":1752185108200,"millis":0.716914,"status":"passed"},"step":{"background":true,"line":3,"prefix":"*","index":0,"text":"url 'http:\/\/localhost:8080'"}},{"result":{"nanos":804454,"startTime":1752185108200,"endTime":1752185108201,"millis":0.804454,"status":"passed"},"step":{"background":true,"line":4,"prefix":"*","index":1,"text":"def adminToken = 'Bearer admin-token'"}},{"result":{"nanos":312704,"startTime":1752185108201,"endTime":1752185108201,"millis":0.312704,"status":"passed"},"step":{"line":34,"prefix":"Given","index":0,"text":"path 'products'"}},{"result":{"nanos":3095299,"startTime":1752185108202,"endTime":1752185108205,"millis":3.095299,"status":"passed"},"step":{"line":35,"prefix":"And","index":1,"text":"request read('classpath:__files\/products\/requests\/post_product_invalid_price.json')"}},{"result":{"nanos":37808271,"startTime":1752185108205,"endTime":1752185108243,"millis":37.808271,"status":"passed"},"step":{"line":36,"prefix":"When","index":2,"text":"method post"},"stepLog":"23:05:08.207 request:\n1 > POST http:\/\/localhost:8080\/products\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 110\n1 > Host: localhost:8080\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/17.0.15)\n1 > Accept-Encoding: gzip,deflate\n{\"name\":\"Smartphone XYZ\",\"price\":-10.0,\"stock\":100,\"description\":\"Un smartphone haut de gamme\",\"categoryId\":1}\n\n23:05:08.240 response time in milliseconds: 33\n1 < 400\n1 < Matched-Stub-Id: 13a2318d-e4e8-4604-a560-8205905dfa0a\n1 < Transfer-Encoding: chunked\n\n\n"},{"result":{"nanos":20810,"startTime":1752185108243,"endTime":1752185108243,"millis":0.02081,"status":"passed"},"step":{"line":37,"prefix":"Then","index":3,"text":"status 400"}},{"result":{"nanos":4170244,"startTime":1752185108243,"endTime":1752185108247,"millis":4.170244,"status":"passed"},"step":{"line":38,"prefix":"And","index":4,"text":"match response == read('classpath:__files\/products\/responses\/post_product_invalid_price_response.json')"}}],"line":43,"description":"","durationMillis":46.928696,"failed":false,"executorName":"main","name":"Erreurs lors de la création d'un produit","startTime":1752185108195,"refId":"[4.2:43]","endTime":1752185108247,"exampleData":{"endpoint":"'products'","requestFile":"'classpath:__files\/products\/requests\/post_product_invalid_price.json'","responseFile":"'classpath:__files\/products\/responses\/post_product_invalid_price_response.json'","statusCode":"400"},"exampleIndex":1},{"sectionIndex":3,"stepResults":[{"result":{"nanos":449728,"startTime":1752185108265,"endTime":1752185108265,"millis":0.449728,"status":"passed"},"step":{"background":true,"line":3,"prefix":"*","index":0,"text":"url 'http:\/\/localhost:8080'"}},{"result":{"nanos":807721,"startTime":1752185108266,"endTime":1752185108267,"millis":0.807721,"status":"passed"},"step":{"background":true,"line":4,"prefix":"*","index":1,"text":"def adminToken = 'Bearer admin-token'"}},{"result":{"nanos":409425,"startTime":1752185108267,"endTime":1752185108267,"millis":0.409425,"status":"passed"},"step":{"line":34,"prefix":"Given","index":0,"text":"path 'products'"}},{"result":{"nanos":2783306,"startTime":1752185108267,"endTime":1752185108270,"millis":2.783306,"status":"passed"},"step":{"line":35,"prefix":"And","index":1,"text":"request read('classpath:__files\/products\/requests\/post_product_conflict.json')"}},{"result":{"nanos":41717689,"startTime":1752185108270,"endTime":1752185108312,"millis":41.717689,"status":"passed"},"step":{"line":36,"prefix":"When","index":2,"text":"method post"},"stepLog":"23:05:08.273 request:\n1 > POST http:\/\/localhost:8080\/products\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 111\n1 > Host: localhost:8080\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/17.0.15)\n1 > Accept-Encoding: gzip,deflate\n{\"name\":\"Smartphone XYZ\",\"price\":599.99,\"stock\":100,\"description\":\"Un smartphone haut de gamme\",\"categoryId\":1}\n\n23:05:08.310 response time in milliseconds: 37\n1 < 409\n1 < Matched-Stub-Id: 3f3f0e05-a34b-47cb-9df7-9d9c1c4cc69e\n1 < Transfer-Encoding: chunked\n\n\n"},{"result":{"nanos":23679,"startTime":1752185108312,"endTime":1752185108312,"millis":0.023679,"status":"passed"},"step":{"line":37,"prefix":"Then","index":3,"text":"status 409"}},{"result":{"nanos":6734002,"startTime":1752185108312,"endTime":1752185108319,"millis":6.734002,"status":"passed"},"step":{"line":38,"prefix":"And","index":4,"text":"match response == read('classpath:__files\/products\/responses\/post_product_conflict_response.json')"}}],"line":44,"description":"","durationMillis":52.92555,"failed":false,"executorName":"main","name":"Erreurs lors de la création d'un produit","startTime":1752185108262,"refId":"[4.3:44]","endTime":1752185108319,"exampleData":{"endpoint":"'products'","requestFile":"'classpath:__files\/products\/requests\/post_product_conflict.json'","responseFile":"'classpath:__files\/products\/responses\/post_product_conflict_response.json'","statusCode":"409"},"exampleIndex":2}],"callDepth":0,"name":"Création et validation d'un produit principal","description":"","resultDate":"2025-07-10 11:05:08 PM","durationMillis":975.846122,"passedCount":6}