{"failedCount":0,"prefixedPath":"classpath:features\/variants\/updateVariant.feature","packageQualifiedName":"features.variants.updateVariant","loopIndex":-1,"relativePath":"features\/variants\/updateVariant.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":189247,"startTime":1752419195150,"endTime":1752419195150,"millis":0.189247,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/localhost:8080'"}},{"result":{"nanos":653606,"startTime":1752419195150,"endTime":1752419195151,"millis":0.653606,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def authHeaderAdmin = { 'Authorization': 'Bearer admin-token', 'Content-Type': 'application\/json' }"}},{"result":{"nanos":607074,"startTime":1752419195151,"endTime":1752419195152,"millis":0.607074,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def authHeaderUserNoPermission = { 'Authorization': 'Bearer user-no-permission' }"}},{"result":{"nanos":108828,"startTime":1752419195152,"endTime":1752419195152,"millis":0.108828,"status":"passed"},"step":{"line":11,"prefix":"Given","index":0,"text":"path 'variants\/variant-123'"}},{"result":{"nanos":547040,"startTime":1752419195152,"endTime":1752419195153,"millis":0.54704,"status":"passed"},"step":{"line":12,"prefix":"And","index":1,"text":"headers authHeaderAdmin"}},{"result":{"nanos":420658,"startTime":1752419195153,"endTime":1752419195153,"millis":0.420658,"status":"passed"},"step":{"line":13,"prefix":"And","index":2,"text":"request { \"price\": 130.00, \"packaging\": { \"id\": \"pack-B\" }, \"characteristics\": [ { \"id\": \"char-2\", \"value\": \"Rouge Pailleté\" } ] }"}},{"result":{"nanos":30624315,"startTime":1752419195153,"endTime":1752419195184,"millis":30.624315,"status":"passed"},"step":{"line":14,"prefix":"When","index":3,"text":"method PUT"},"stepLog":"16:06:35.156 request:\n1 > PUT http:\/\/localhost:8080\/variants\/variant-123\n1 > Authorization: Bearer admin-token\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 105\n1 > Host: localhost:8080\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/17.0.15)\n1 > Accept-Encoding: gzip,deflate\n{\"price\":130.0,\"packaging\":{\"id\":\"pack-B\"},\"characteristics\":[{\"id\":\"char-2\",\"value\":\"Rouge Pailleté\"}]}\n\n16:06:35.183 response time in milliseconds: 26\n1 < 200\n1 < Content-Type: application\/json\n1 < Matched-Stub-Id: 8c8db6b8-a397-4ad5-b5b9-3fef7d4dc186\n1 < Transfer-Encoding: chunked\n{\n  \"id\": \"variant-123\",\n  \"product_id\": \"prod-456\",\n  \"name\": \"Variante Chaussures Rouge Maj\",\n  \"sku\": \"SKU-RED-SIZE41\",\n  \"price\": 130.00,\n  \"status\": \"ACTIVE\",\n  \"characteristics\": [\n    {\n      \"id\": \"char-1\",\n      \"name\": \"Taille\",\n      \"value\": \"41\"\n    },\n    {\n      \"id\": \"char-2\",\n      \"name\": \"Couleur\",\n      \"value\": \"Rouge Pailleté\"\n    }\n  ],\n  \"packaging\": {\n    \"id\": \"pack-B\",\n    \"name\": \"Emballage Premium\"\n  },\n  \"creation_date\": \"2025-07-13T10:00:00Z\",\n  \"last_updated\": \"2025-07-13T15:00:00Z\"\n}\n\n"},{"result":{"nanos":30514,"startTime":1752419195184,"endTime":1752419195184,"millis":0.030514,"status":"passed"},"step":{"line":15,"prefix":"Then","index":4,"text":"status 200"}},{"result":{"nanos":2925401,"startTime":1752419195184,"endTime":1752419195187,"millis":2.925401,"status":"passed"},"step":{"line":16,"prefix":"And","index":5,"text":"match response.price == 130.00"}},{"result":{"nanos":1232627,"startTime":1752419195187,"endTime":1752419195188,"millis":1.232627,"status":"passed"},"step":{"line":17,"prefix":"And","index":6,"text":"match response.packaging.name == 'Emballage Premium'"}},{"result":{"nanos":4937074,"startTime":1752419195189,"endTime":1752419195194,"millis":4.937074,"status":"passed"},"step":{"line":18,"prefix":"And","index":7,"text":"match response.characteristics[1].value == 'Rouge Pailleté'"}}],"line":10,"description":"","durationMillis":42.276384,"failed":false,"tags":["putVariant","valid"],"executorName":"main","name":"Mise à jour réussie des informations d'une variante","startTime":1752419195148,"refId":"[1:10]","endTime":1752419195194,"exampleIndex":-1},{"sectionIndex":1,"stepResults":[{"result":{"nanos":237745,"startTime":1752419195203,"endTime":1752419195203,"millis":0.237745,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/localhost:8080'"}},{"result":{"nanos":603471,"startTime":1752419195203,"endTime":1752419195204,"millis":0.603471,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def authHeaderAdmin = { 'Authorization': 'Bearer admin-token', 'Content-Type': 'application\/json' }"}},{"result":{"nanos":1221246,"startTime":1752419195204,"endTime":1752419195205,"millis":1.221246,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def authHeaderUserNoPermission = { 'Authorization': 'Bearer user-no-permission' }"}},{"result":{"nanos":773563,"startTime":1752419195205,"endTime":1752419195206,"millis":0.773563,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"path 'variants\/any-variant-id'"}},{"result":{"nanos":367139,"startTime":1752419195206,"endTime":1752419195206,"millis":0.367139,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"headers authHeaderUserNoPermission"}},{"result":{"nanos":377962,"startTime":1752419195207,"endTime":1752419195207,"millis":0.377962,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"request { \"price\": 10.00 }"}},{"result":{"nanos":34534919,"startTime":1752419195207,"endTime":1752419195242,"millis":34.534919,"status":"passed"},"step":{"line":25,"prefix":"When","index":3,"text":"method PUT"},"stepLog":"16:06:35.209 request:\n1 > PUT http:\/\/localhost:8080\/variants\/any-variant-id\n1 > Authorization: Bearer user-no-permission\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 14\n1 > Host: localhost:8080\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/17.0.15)\n1 > Accept-Encoding: gzip,deflate\n{\"price\":10.0}\n\n16:06:35.240 response time in milliseconds: 22\n1 < 403\n1 < Matched-Stub-Id: 5f102db8-d52f-42e2-9b51-0645aee5b5bd\n1 < Transfer-Encoding: chunked\n\n\n"},{"result":{"nanos":25626,"startTime":1752419195242,"endTime":1752419195242,"millis":0.025626,"status":"passed"},"step":{"line":26,"prefix":"Then","index":4,"text":"status 403"}},{"result":{"nanos":1082384,"startTime":1752419195242,"endTime":1752419195243,"millis":1.082384,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"match response == { \"error\": \"Accès interdit\", \"message\": \"Vous n'avez pas les permissions nécessaires.\" }"}}],"line":21,"description":"","durationMillis":39.224055,"failed":false,"tags":["putVariant","forbidden","error"],"executorName":"main","name":"Tenter de mettre à jour une variante sans les permissions requises","startTime":1752419195201,"refId":"[2:21]","endTime":1752419195243,"exampleIndex":-1},{"sectionIndex":2,"stepResults":[{"result":{"nanos":745388,"startTime":1752419195254,"endTime":1752419195255,"millis":0.745388,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/localhost:8080'"}},{"result":{"nanos":570844,"startTime":1752419195255,"endTime":1752419195256,"millis":0.570844,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def authHeaderAdmin = { 'Authorization': 'Bearer admin-token', 'Content-Type': 'application\/json' }"}},{"result":{"nanos":1411114,"startTime":1752419195255,"endTime":1752419195256,"millis":1.411114,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def authHeaderUserNoPermission = { 'Authorization': 'Bearer user-no-permission' }"}},{"result":{"nanos":611216,"startTime":1752419195257,"endTime":1752419195258,"millis":0.611216,"status":"passed"},"step":{"line":31,"prefix":"Given","index":0,"text":"path 'variants\/variant-123\/price'"}},{"result":{"nanos":172725,"startTime":1752419195258,"endTime":1752419195258,"millis":0.172725,"status":"passed"},"step":{"line":32,"prefix":"And","index":1,"text":"headers authHeaderAdmin"}},{"result":{"nanos":435178,"startTime":1752419195258,"endTime":1752419195258,"millis":0.435178,"status":"passed"},"step":{"line":33,"prefix":"And","index":2,"text":"request { \"price\": 50.00 }"}},{"result":{"nanos":29081662,"startTime":1752419195259,"endTime":1752419195288,"millis":29.081662,"status":"passed"},"step":{"line":34,"prefix":"When","index":3,"text":"method PUT"},"stepLog":"16:06:35.261 request:\n1 > PUT http:\/\/localhost:8080\/variants\/variant-123\/price\n1 > Authorization: Bearer admin-token\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 14\n1 > Host: localhost:8080\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/17.0.15)\n1 > Accept-Encoding: gzip,deflate\n{\"price\":50.0}\n\n16:06:35.286 response time in milliseconds: 25\n1 < 200\n1 < Content-Type: application\/json\n1 < Matched-Stub-Id: f9d75590-1d95-4178-8d34-e35487f30af7\n1 < Transfer-Encoding: chunked\n{\"id\":\"variant-123\",\"price\":50.00}\n\n"},{"result":{"nanos":25085,"startTime":1752419195288,"endTime":1752419195288,"millis":0.025085,"status":"passed"},"step":{"line":35,"prefix":"Then","index":4,"text":"status 200"}},{"result":{"nanos":2339571,"startTime":1752419195289,"endTime":1752419195291,"millis":2.339571,"status":"passed"},"step":{"line":36,"prefix":"And","index":5,"text":"match response.price == 50.00"}}],"line":30,"description":"","durationMillis":35.392783,"failed":false,"tags":["putVariant","valid","price"],"executorName":"main","name":"Définir un prix unitaire pour une variante","startTime":1752419195250,"refId":"[3:30]","endTime":1752419195291,"exampleIndex":-1},{"sectionIndex":3,"stepResults":[{"result":{"nanos":172417,"startTime":1752419195299,"endTime":1752419195299,"millis":0.172417,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/localhost:8080'"}},{"result":{"nanos":466066,"startTime":1752419195299,"endTime":1752419195299,"millis":0.466066,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def authHeaderAdmin = { 'Authorization': 'Bearer admin-token', 'Content-Type': 'application\/json' }"}},{"result":{"nanos":340534,"startTime":1752419195300,"endTime":1752419195300,"millis":0.340534,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def authHeaderUserNoPermission = { 'Authorization': 'Bearer user-no-permission' }"}},{"result":{"nanos":1010551,"startTime":1752419195300,"endTime":1752419195301,"millis":1.010551,"status":"passed"},"step":{"line":40,"prefix":"Given","index":0,"text":"path 'variants\/variant-to-activate\/activate'"}},{"result":{"nanos":250162,"startTime":1752419195302,"endTime":1752419195302,"millis":0.250162,"status":"passed"},"step":{"line":41,"prefix":"And","index":1,"text":"headers authHeaderAdmin"}},{"result":{"nanos":17311345,"startTime":1752419195302,"endTime":1752419195319,"millis":17.311345,"status":"passed"},"step":{"line":42,"prefix":"When","index":2,"text":"method PUT"},"stepLog":"16:06:35.304 request:\n1 > PUT http:\/\/localhost:8080\/variants\/variant-to-activate\/activate\n1 > Authorization: Bearer admin-token\n1 > Content-Type: application\/json\n1 > Host: localhost:8080\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/17.0.15)\n1 > Accept-Encoding: gzip,deflate\n\n\n16:06:35.318 response time in milliseconds: 14\n1 < 200\n1 < Content-Type: application\/json\n1 < Matched-Stub-Id: ef15d08a-5288-4710-94d4-d7742b89c7cc\n1 < Transfer-Encoding: chunked\n{\"id\":\"variant-to-activate\",\"status\":\"ACTIVE\",\"message\":\"Variante activée avec succès.\"}\n\n"},{"result":{"nanos":23430,"startTime":1752419195320,"endTime":1752419195320,"millis":0.02343,"status":"passed"},"step":{"line":43,"prefix":"Then","index":3,"text":"status 200"}},{"result":{"nanos":1531284,"startTime":1752419195320,"endTime":1752419195322,"millis":1.531284,"status":"passed"},"step":{"line":44,"prefix":"And","index":4,"text":"match response.status == 'ACTIVE'"}},{"result":{"nanos":1135953,"startTime":1752419195321,"endTime":1752419195322,"millis":1.135953,"status":"passed"},"step":{"line":45,"prefix":"And","index":5,"text":"match response.message == 'Variante activée avec succès.'"}}],"line":39,"description":"","durationMillis":22.241742,"failed":false,"tags":["putVariant","valid","activate"],"executorName":"main","name":"Activation réussie d'une variante","startTime":1752419195297,"refId":"[4:39]","endTime":1752419195323,"exampleIndex":-1}],"callDepth":0,"name":"Mise à jour et activation d'une variante de produit","description":"","resultDate":"2025-07-13 04:06:35 PM","durationMillis":139.134964,"passedCount":4}